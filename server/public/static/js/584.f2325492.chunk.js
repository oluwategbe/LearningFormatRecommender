"use strict";(self.webpackChunklbanawspartner=self.webpackChunklbanawspartner||[]).push([[584],{4365:function(e,r,n){var t=n(2791),a=n(5211),s=n(3483),i=n(184);r.Z=function(e){var r=e.children,n=e.name,o=(0,t.useContext)(s.V).user;return(0,i.jsxs)("div",{children:[(0,i.jsx)(a.h4,{}),(0,i.jsxs)("div",{className:"appContainer",children:[(0,i.jsx)(a.W_,{name:n,user:o}),(0,i.jsxs)("div",{className:"contentsRight",children:[(0,i.jsx)(a.wp,{title:n,user:o}),(0,i.jsx)("div",{className:"pageContents",children:r})]})]})]})}},4432:function(e,r,n){n.d(r,{Aj:function(){return m},KA:function(){return b},_L:function(){return x},mr:function(){return h}});var t=n(4165),a=n(5861),s=n(2805),i=n(2917),o=n(6403),u=n(3418),c=n(6414),l=n(8096),d=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.b)({url:"/user",method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,l.KU)())}});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function m(){var e=(0,i.a)({queryKey:[c.a.admin],queryFn:function(){return d()}}).data;return void 0===e?[]:e}function p(){return(p=(0,a.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.b)({url:"/auth/register",method:"POST",data:r,headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,a.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.b)({url:"/user/".concat(r._id),method:"PUT",data:r,headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,a.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.b)({url:"/user/".concat(r._id),method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){var e=(0,o.NL)(),r=(0,u.D)({mutationFn:function(e){return function(e){return p.apply(this,arguments)}(e)},onSuccess:function(){e.invalidateQueries([c.a.admin])}});return{mutate:r.mutate,isError:r.isError,error:r.error,isSuccess:r.isSuccess,reset:r.reset}}function x(){var e=(0,o.NL)(),r=(0,u.D)({mutationFn:function(e){return function(e){return f.apply(this,arguments)}(e)},onSuccess:function(){e.invalidateQueries([c.a.admin])}});return{mutate:r.mutate,isError:r.isError,error:r.error,isSuccess:r.isSuccess,reset:r.reset}}function b(){var e=(0,o.NL)(),r=(0,u.D)({mutationFn:function(e){return function(e){return v.apply(this,arguments)}(e)},onSuccess:function(){e.invalidateQueries([c.a.admin])}});return{mutate:r.mutate,isError:r.isError,error:r.error,isSuccess:r.isSuccess,reset:r.reset}}},1584:function(e,r,n){n.r(r);var t=n(4942),a=n(1413),s=n(9439),i=n(2791),o=n(4365),u=n(5211),c=n(4432),l=n(5043),d=n(3722),m=n(749),p=n(9085),f=n(184);r.default=function(){var e=(0,d.B)(),r=(0,i.useState)({}),n=(0,s.Z)(r,2),v=n[0],h=n[1],x=(0,i.useState)({}),b=(0,s.Z)(x,2),C=b[0],j=b[1],w=(0,i.useState)(!1),y=(0,s.Z)(w,2),Z=y[0],g=y[1],A=(0,i.useState)(!1),E=(0,s.Z)(A,2),S=E[0],k=E[1],N=function(e,r){h((0,a.Z)((0,a.Z)({},v),{},(0,t.Z)({},e,r)))},q=function(e,r){j((0,a.Z)((0,a.Z)({},C),{},(0,t.Z)({},e,r)))},z=(0,c.mr)(),P=z.mutate,T=z.isSuccess,D=z.isError,I=z.error,L=z.reset;D&&(L(),(0,m.sD)(I)),T&&(L(),(0,m.Cq)("Admin created successfully"),h(""),g(!1));var F=(0,c._L)(),H=F.mutate,_=F.isSuccess,K=F.isError,U=F.error,B=F.reset;K&&(B(),(0,m.sD)(U),g(!1)),_&&(B(),(0,m.Cq)("Admin updated successfully"),h(""));var Q=(0,c.KA)(),W=Q.mutate,V=Q.isSuccess,G=Q.isError,O=Q.error,R=Q.reset;G&&(R(),(0,m.sD)(O)),V&&(R(),(0,m.Cq)("Admin deleted successfully"));var J=(0,c.Aj)();return(0,f.jsxs)(o.Z,{name:"Admin",children:[(0,f.jsx)("div",{className:"btnContainer",children:(0,f.jsx)("button",{className:"btn btnPartner",onClick:function(){g(!Z),k(!1),h("")},type:"button",children:"Add Admin"})}),(0,f.jsx)(u.iA,{data:J,columns:[{title:"First Name",field:"firstname"},{title:"Last Name",field:"lastname"},{title:"Email",field:"email"},{title:"Phone",field:"phone"}],actions:function(e){return[{name:"Edit",onClick:function(e){h(e),k(!0),g(!0)}},{name:"Delete",onClick:function(e){window.confirm("Are you sure you want to delete?")&&W(e)}}]}}),(0,f.jsx)(l.u_,{isVisible:Z,title:S?"Edit Admin":"Create Admin",size:"lg",content:(0,f.jsxs)(l.cw,{onSubmit:S?function(){H(v)}:function(){if(v.password!==v.cpassword)return p.Am.error("Password doess not match",m.HK);P(v)},validation:!S&&v,errors:C,setErrors:j,children:[(0,f.jsx)(l.II,{name:"firstname",label:"First Name",value:v.firstname,onChange:N,type:"text",validationHandler:q,error:C.firstname,required:!0,size:"large"}),(0,f.jsx)(l.II,{name:"lastname",label:"Last Name",value:v.lastname,onChange:N,type:"text",validationHandler:q,error:C.lastname,required:!0,size:"large"}),(0,f.jsx)(l.II,{name:"email",label:"Email",value:v.email,onChange:N,type:"email",reqType:"email",validationHandler:q,error:C.email,required:!0,size:"large"}),(0,f.jsx)(l.II,{name:"phone",label:"Phone Number",value:v.phone,onChange:N,type:"text",validationHandler:q,error:C.phone,required:!0,size:"large"}),!S&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.WU,{name:"password",label:"Password",value:v.password,onChange:N,type:"text",validationHandler:q,error:C.password,required:!S,size:"large"}),(0,f.jsx)(l.WU,{name:"cpassword",label:"Confirm Password",value:v.cpassword,onChange:N,type:"text",validationHandler:q,error:C.cpassword,required:!S,size:"large"})]}),(0,f.jsx)(l.zx,{title:S?"Update Admin":"Add Admin",loading:1===e,disabled:1===e,bgColor:"btnPartner",size:"small"}),(0,f.jsx)(l.zx,{title:"Cancel",type:"button",loading:1===e,disabled:1===e,bgColor:"btnBlack",size:"small",onClick:function(){return g(!Z)}})]}),onClose:function(){return g(!1)},footer:""})]})}}}]);
//# sourceMappingURL=584.f2325492.chunk.js.map